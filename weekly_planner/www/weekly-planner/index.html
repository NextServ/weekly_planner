{% extends "templates/web.html" %}

{% block title %} Weekly Planner {% endblock %}

{% block head_include %}
<!-- <link rel="stylesheet" href="/weekly_planner/assets/css/pico.min.css"> -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"> -->
{% endblock %}


{% block breadcrumbs %}
{% endblock %}

{% block page_content %}
<!-- Header -->
<header class="container">
  <div>
    <div>
        <h3>Welcome to the Weekly Planner</h3>
    </div>
  </div>
</header>
<!-- ./ Header -->

<!-- Main -->
<main class="container">
  {% if invalid_role %}
    <br /><br /><br />
    <div class="shadow alert alert-warning alert-dismissible fade show" role="alert">
      <strong>Invalid role!</strong> You are not authorized to access this page. Please contact your administrator for more
      information.
    </div>
    

  {% else %}
    <!-- Load list of Weekly Planners -->   
    <div class="mt-4">
        The tool will allow your Montessori Guides prepare their weekly lesson plans and submit them for approval.
        <br /><br /><br />
    </div>
      <table class="table table-striped" id="main_table">
        <thead>
          <tr>
            <!-- display table header titles vertically -->
            <style>
              .rotated-text {
                transform: rotate(-45deg); /* Rotate the text by 90 degrees */
                white-space: nowrap; /* Keep the text on one line */
                text-align: left;
                height: 200px;
              }
            </style>
              <th scope="col">#</th>
              <th scope="col">Instructor</th>
              <th scope="col">Student Group</th>
              <th scope="col">Start Date</th>
              <th scope="col">Status</th>
              <th scope="col" text-align="left">Action</th>
          </tr>
        </thead>
        <tbody>
          {% for planner in weekly_planners %}
          <tr>
            <th scope="row">{{ planner.counter }}</th>
            <td>{{ planner.instructor }}</td>
            <td>{{ planner.student_group }}</td>
            <td>{{ planner.start_date }}</td>
            {% if planner.docstatus == 0 %}
            <td>Draft</td>
            {% elif planner.docstatus == 1 %}
            <td color="Green">Submitted</td>
            {% elif planner.docstatus == 2 %}
            <td color="Red">Cancelled</td>
            {% endif %}
            <td class="badge badge-primary" text-align="right" planner-name="{{ planner.name }}" onclick="open_planner_detail()">Edit</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

        <br />
        <button type="button" class="btn btn-primary">New Planner</button>
    </div>
  {% endif %} 
</main>
{% endblock %}

{% block base_scripts %}
{% endblock %}
